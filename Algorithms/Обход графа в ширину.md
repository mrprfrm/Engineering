---
tags:
 - algorithm
 - graphs
---

![[bfs.png ]]

Алгоритм обхода [[Основы теории графов#^28cadc|графа]] в ширину предполагает повледовательное посещение всех  вершин графа, находящихся на одном уровне удалённости от начальной вершины, до тех пор пока в графе не останется непосещённых вершин. По достижении последней непосещённой вершины графа, алгоритм завершается.

> Алгоритм обхода графа в ширину также называется **волновым алгоритмом** по аналогии с принципом распространения волны в пространстве.

## Часто решаемые задачи 

- Нахождение кратчайшего пути в графе;
- Нахождение "длинны" от одного узла графа до другого;
- Определить лежит ли вершина на одном из кратчайших путей.

## Представление графов

Иногда граф представляется в виде таблицы (матрицы) с проходимыми и непроходимыми узлами.

## Ключевое понятие

**Очередь** — *FIFO* коллекция, куда последовательно попадают все непосещённые соседние вершины относительно текущей, на каждой итерации текущая вершина помечается как посещённая и далее не участвует в обходе графа.

## Примеры

### Вершина и кратчайший путь

На графах может существовать срезу несколько кратчайших путей, то есть путей с наименьшим и одинаковым количеством промежуточных вершин,

Для того чтобы определить, что вершина находится на одном из таких путей достаточно совершить обход в ширину от начальной вершины до конечной, а затем от конечной до начальной. Таким образом мы можем определить путь от каждой вершины графа до начальной и конечной вершины соответсвенно. 

В случае если сумма расстояний от искомой вершины до начала и от искомой вершины до конца будет равно кратчайшему пути от начала до конца, можно считать, что искомая вершина лежит на одном из кратчайших путей в графе.

> Для ориентированных графов обход из конца в начало должен осуществляться на графе с развёрнутыми рёбрами.

### Ребро и кратчайший путь

По аналогии с определением вершины, лежащей на кратчайшем пути, мы можем определить находится ли на кратчайшем пути ребро между двух вершин.

Признак нахождения ребра на кратчайшем пути будет несколько отличаться, поскольку не каждое ребро образованное двумя вершинами лежащими на кратчайшем пути также будет находиться на кратчайшем пути.

Для того чтобы определить находится ли ребро между двумя вершинами на кратчайшем пути, достаточно чтобы сумма путей от вершины `a` до ближайшей начальной или конечной вершины и вершины `b` до ближайшей до ближайшей начальной или конечной вершины удовлетворяли равенству:

$$
s_{a} + s_{b} = s_{min} - 1
$$

Где $a$ и $b$ — это верши образующие искомое ребро;
      $s_a$ — путь от вершины $a$ до ближайшей начальной или конечной вершины;
      $s_{b}$ — путь от вершины $b$ до ближайшей начальной или конечной вершины;
      $s_{min}$ — длинна кратчайшего пути.

 Фактически мы как бы исключаем искомое ребро, соединяя вершины $a$ и $b$ тем самым сокращая путь от начальной до конечной вершины на одно ребро и в случае если новообразованная вершина лежит на новообразованном кратчайшем пути, то есть пути на одно ребро короче, то можно считать, что ребро находится на кратчайшем пути в графе.
      
## Список источников 

1.  https://hashsum.ru/bfs-algoritm-obxoda-grafa-v-shirinu/