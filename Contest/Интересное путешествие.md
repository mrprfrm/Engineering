---
tags:
 - contest
 - yandex
---

> Не секрет, что некоторые программисты очень любят путешествовать. Хорошо всем известный программист Петя тоже очень любит путешествовать, посещать музеи и осматривать достопримечательности других городов.
> 
> Для перемещений между из города в город он предпочитает использовать машину. При этом он заправляется только на станциях в городах, но не на станциях по пути. Поэтому он очень аккуратно выбирает маршруты, чтобы машина не заглохла в дороге. А ещё Петя очень важный член команды, поэтому он не может себе позволить путешествовать слишком долго. Он решил написать программу, которая поможет ему с выбором очередного путешествия. Но так как сейчас у него слишком много других задач, он попросил вас помочь ему.
>
> Расстояние между двумя городами считается как сумма модулей разности по каждой из координат. Дороги есть между всеми парами городов.

> Если существуют пути, удовлетворяющие описанным выше условиям, то выведите минимальное количество дорог, которое нужно проехать, чтобы попасть из начальной точки маршрута в конечную. Если пути не существует, выведите -1.

## Входные данные

```Python
n = 7
coords = [
 (0, 0), (0, 2), (2, 2), (0, -2), (2, -2), (2, -1), (2, 1)
]
k = 2
start = 1
end = 3
```

**Output: 2**

```Text
4
0 0
1 0
0 1
1 1
2
1 4
```

**Output: 1**

```Text
4
0 0
2 0
0 2
2 2
1
1 4
```

**Output: -1 (Путешествие не возможно)**

```Text

```

- Первое число `n` — количество городов
- Последующие `n` строк содержат координаты городов
- Предпоследнее число `k` — максимальное расстояние, что может быть преодалено без дозаправки
- Последняя строка содержит `номер начального` и `номер конечного` городов путешествия

## Выходные данные

Целое число равное минимальному количеству дорог, что предстоит преодолеть во время путешествия. В случае если доехать от начальной до конечной точки не представляется возможным следует вернуть `-1`.

## Алгоритм

1. Определить переменную `d` для хранения количества пройденных городов 
2. Для каждого узла, начиная с начальной точки `start`:
	1. Определить список доступных для путешествия узлов `available`, то есть список узлов расстояние между которыми меньше `k`
	2. Если полученное множество узлов содержит конечную точку `end`, то  количество пройденных до конечной точки городов `d` можно считать как один из возможных ответов `results`
	3. Иначе следует пройти алгоритм для каждого узла из списка доступных `available` в качестве начальной точки `start`.
3. Из списка потенциальных ответов `results` определить минимальное значение 

Также следует учесть, что пройденные пути например `[1 -> 2, 1 -> 3, 1 -> 4]` не должны повторяться в процессе выполнения алгоритма для всех последующих узлов например `[2 -> 2, 2 -> 4]` и `[3 -> 4]`